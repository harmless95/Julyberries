«Julyberries» (JB)
Проект построен по принципам микросервисной архитектуры с использованием FastAPI,
PostgreSQL, MongoDB, Redis, Kafka, Celery, и инфраструктуры для логирования и
мониторинга: ELK Stack, Prometheus, Grafana.
Каждый микросервис разворачивается локально через docker-compose и взаимодействует
по HTTP (REST) и Kafka.
Общая логика системы
1. Пользователь получает список товаров и категорий из Catalog Service.
2. Может:
2.1. Оформить заказ через Orders Service.
2.2. Оставить отзыв через Reviews Service.
3. При оформлении заказа:
3.1. Событие ORDER_CREATED отправляется в Kafka.
3.2. Celery Worker обрабатывает это событие:
3.2.1. Запрашивает курс валют.
3.2.2. Расчитывает доставку.
3.2.3. Обновляет заказ.
4. Курсы валют обновляются через внешний API и кешируются в Redis.
5. Redis также используется для:
5.1. Кеширования категорий.
5.2. Хранения результатов фоновых задач.
5.3. Брокера задач для Celery.
6. Все сервисы логируют в ELK Stack, метрики собираются через Prometheus +
Grafana
````
python -c "import secrets; print(secrets.token_hex())" - для генерации токена